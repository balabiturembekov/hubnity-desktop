# E2E Тесты для Hubnity

Этот каталог содержит end-to-end тесты для полного цикла пользователя.

## Установка

```bash
pnpm install
npx playwright install
```

## Запуск тестов

```bash
# Запуск всех тестов
pnpm test:e2e

# Запуск с UI
pnpm test:e2e:ui

# Запуск в headed режиме (с браузером)
pnpm test:e2e:headed

# Запуск в debug режиме
pnpm test:e2e:debug
```

## Структура тестов

- `full-user-cycle.spec.ts` - Полный цикл пользователя (логин, старт, пауза, стоп)
- `day-change.spec.ts` - Тесты для смены дня и ежедневного сброса
- `url-activity.spec.ts` - Тесты для URL activity tracking

## Примечания

1. Тесты используют моки для Tauri команд и API
2. Для тестирования смены дня может потребоваться дополнительная настройка
3. Некоторые тесты требуют ожидания (например, отправка URL activities каждую минуту)

## Улучшения для продакшена

1. Добавить тесты для скриншотов
2. Добавить тесты для idle detection
3. Добавить тесты для обработки ошибок сети
4. Добавить тесты для refresh token
5. Использовать реальный Tauri dev server вместо моков (если возможно)
