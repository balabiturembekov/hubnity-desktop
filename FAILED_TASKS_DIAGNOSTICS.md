# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Failed –ó–∞–¥–∞—á

**–î–∞—Ç–∞:** 2025-01-08  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞–∫–æ–ø–∏–ª–æ—Å—å 100 failed –∑–∞–¥–∞—á –≤ –æ—á–µ—Ä–µ–¥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

---

## üîç –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´

### –ü–æ—á–µ–º—É –∑–∞–¥–∞—á–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ failed?

–ó–∞–¥–∞—á–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ `failed` –∫–æ–≥–¥–∞:
1. **–î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –ø–æ–ø—ã—Ç–æ–∫:** `retry_count >= max_retries` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `max_retries = 5`)
2. **–û—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞:** HTTP 4xx, 5xx –æ—à–∏–±–∫–∏ –ø–æ—Å–ª–µ 5 –ø–æ–ø—ã—Ç–æ–∫
3. **–°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏:** –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ—Å–ª–µ 5 –ø–æ–ø—ã—Ç–æ–∫
4. **–û—à–∏–±–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤:** 401 –æ—à–∏–±–∫–∏ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω

### –õ–æ–≥–∏–∫–∞ retry:

```
–ü–æ–ø—ã—Ç–∫–∞ 1 ‚Üí –û—à–∏–±–∫–∞ ‚Üí retry_count = 1 ‚Üí pending (—á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É)
–ü–æ–ø—ã—Ç–∫–∞ 2 ‚Üí –û—à–∏–±–∫–∞ ‚Üí retry_count = 2 ‚Üí pending (—á–µ—Ä–µ–∑ 2 –º–∏–Ω—É—Ç—ã)
–ü–æ–ø—ã—Ç–∫–∞ 3 ‚Üí –û—à–∏–±–∫–∞ ‚Üí retry_count = 3 ‚Üí pending (—á–µ—Ä–µ–∑ 4 –º–∏–Ω—É—Ç—ã)
–ü–æ–ø—ã—Ç–∫–∞ 4 ‚Üí –û—à–∏–±–∫–∞ ‚Üí retry_count = 4 ‚Üí pending (—á–µ—Ä–µ–∑ 8 –º–∏–Ω—É—Ç)
–ü–æ–ø—ã—Ç–∫–∞ 5 ‚Üí –û—à–∏–±–∫–∞ ‚Üí retry_count = 5 ‚Üí **FAILED** (–±–æ–ª—å—à–µ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è)
```

### –ü–æ—á–µ–º—É –Ω–∞–∫–æ–ø–∏–ª–æ—Å—å 100 failed –∑–∞–¥–∞—á?

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. **–î–ª–∏—Ç–µ–ª—å–Ω—ã–π offline —Ä–µ–∂–∏–º:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–ª–æ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –∑–∞–¥–∞—á–∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–ª–∏—Å—å –∏ –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∏ –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å
2. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏:** –¢–æ–∫–µ–Ω—ã –∏—Å—Ç–µ–∫–ª–∏, refresh token –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—Å–µ –∑–∞–¥–∞—á–∏ –ø–æ–ª—É—á–∞—é—Ç 401 –æ—à–∏–±–∫–∏
3. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º:** –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–ª 4xx/5xx –æ—à–∏–±–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
4. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API endpoint:** URL –∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è

---

## ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –ò–ù–°–¢–†–£–ú–ï–ù–¢–´ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò

### 1. Backend (Rust)

**–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã Database:**
- `get_failed_tasks(limit)` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ failed –∑–∞–¥–∞—á —Å –¥–µ—Ç–∞–ª—è–º–∏
- `reset_failed_tasks(limit)` - —Å–±—Ä–æ—Å–∏—Ç—å failed –∑–∞–¥–∞—á–∏ –æ–±—Ä–∞—Ç–Ω–æ –≤ pending

**–ù–æ–≤—ã–µ Tauri commands:**
- `get_failed_tasks(limit?)` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ failed –∑–∞–¥–∞—á
- `retry_failed_tasks(limit?)` - –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é failed –∑–∞–¥–∞—á

### 2. Frontend (React)

**–ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `FailedTasksDialog`:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ failed –∑–∞–¥–∞—á —Å –¥–µ—Ç–∞–ª—è–º–∏
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–∏–ø –∑–∞–¥–∞—á–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫, –¥–∞—Ç—ã
- –ö–Ω–æ–ø–∫–∞ "–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å–µ" –¥–ª—è —Å–±—Ä–æ—Å–∞ failed –∑–∞–¥–∞—á –æ–±—Ä–∞—Ç–Ω–æ –≤ pending

**–£–ª—É—á—à–µ–Ω–Ω—ã–π `SyncIndicator`:**
- –ö–ª–∏–∫ –ø–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—É –æ—à–∏–±–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Å –¥–µ—Ç–∞–ª—è–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏

---

## üîß –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥ —Å –¥–µ—Ç–∞–ª—è–º–∏

1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–û—à–∏–±–∫–∞ (100)"
2. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥ —Å —Å–ø–∏—Å–∫–æ–º failed –∑–∞–¥–∞—á

### –®–∞–≥ 2: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏

–í –¥–∏–∞–ª–æ–≥–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- **–¢–∏–ø –∑–∞–¥–∞—á–∏:** –°—Ç–∞—Ä—Ç —Ç—Ä–µ–∫–µ—Ä–∞, –ü–∞—É–∑–∞, –°–∫—Ä–∏–Ω—à–æ—Ç, –∏ —Ç.–¥.
- **ID –∑–∞–¥–∞—á–∏:** –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫:** –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø—ã—Ç–∞–ª–∏—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å (–º–∞–∫—Å. 5)
- **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** –ö–æ–≥–¥–∞ –∑–∞–¥–∞—á–∞ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞
- **–ü–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞:** –ö–æ–≥–¥–∞ –±—ã–ª–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 3: –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å–µ (100)"**
2. –í—Å–µ failed –∑–∞–¥–∞—á–∏ –±—É–¥—É—Ç —Å–±—Ä–æ—à–µ–Ω—ã –æ–±—Ä–∞—Ç–Ω–æ –≤ `pending` —Å `retry_count = 0`
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
4. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–±–Ω–æ–≤–∏—Ç—Å—è

---

## üìä –ß–¢–û –ü–†–û–í–ï–†–ò–¢–¨

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ª–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```bash
# –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ –≤–∏–¥–∞:
[SYNC] Task X failed after 5 retries
[SYNC] Failed to refresh token for task X
[SYNC] Network error: ...
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø –æ—à–∏–±–æ–∫

–í –¥–∏–∞–ª–æ–≥–µ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ:
- **–ö–∞–∫–∏–µ —Ç–∏–ø—ã –∑–∞–¥–∞—á failed?** (time_entry_start, screenshot, –∏ —Ç.–¥.)
- **–ö–æ–≥–¥–∞ –æ–Ω–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã?** (–º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç–∞—Ä–∞—è –¥–∞—Ç–∞ = –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –¥–∞–≤–Ω–æ)
- **–°–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫?** (–≤—Å–µ 5 = –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è)

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω—ã

–ï—Å–ª–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ failed —Å 401 –æ—à–∏–±–∫–∞–º–∏:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω—ã –Ω–µ –∏—Å—Ç–µ–∫–ª–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ refresh token —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–π—Ç–∏ –∏ –≤–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

–ï—Å–ª–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ failed —Å 4xx/5xx –æ—à–∏–±–∫–∞–º–∏:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API endpoint –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–π (offline, —Å–µ—Ä–≤–µ—Ä –±—ã–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω):

1. **–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:** –ù–∞–∂–º–∏—Ç–µ "–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å–µ"
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è..." –∏–ª–∏ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ"
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ:** –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è (—Ç–æ–∫–µ–Ω—ã, API endpoint):

1. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–æ–±–ª–µ–º—É:** –û–±–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ API endpoint
2. **–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:** –ù–∞–∂–º–∏—Ç–µ "–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å–µ"
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ï—Å–ª–∏ —Å–Ω–æ–≤–∞ failed, –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞

### –ï—Å–ª–∏ –Ω–∞–∫–æ–ø–∏–ª–æ—Å—å –æ—á–µ–Ω—å –º–Ω–æ–≥–æ failed –∑–∞–¥–∞—á (> 1000):

1. **–û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –∑–∞–¥–∞—á–∏:** –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö failed –∑–∞–¥–∞—á
2. **–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Å–≤–µ–∂–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `limit` –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –ø–æ–≤—Ç–æ—Ä–∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–¥–∞—á

---

## üîÑ –ë–£–î–£–©–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry failed –∑–∞–¥–∞—á:** –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å failed –∑–∞–¥–∞—á–∏
2. **–£–º–Ω—ã–π retry:** –†–∞–∑–ª–∏—á–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (—Å–µ—Ç—å) –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ (401, 404)
3. **–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–¥–∞—á:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ failed –∑–∞–¥–∞—á —Å—Ç–∞—Ä—à–µ N –¥–Ω–µ–π
4. **–î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
5. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–∏ failed –∑–∞–¥–∞—á

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-08
