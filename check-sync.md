# –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö

## –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á–∏—Å–ª–æ 221?

**–ß–∏—Å–ª–æ 221** ‚Äî —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending` –≤ –æ—á–µ—Ä–µ–¥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –≠—Ç–æ –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ:
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (SQLite)
- ‚è≥ –û–∂–∏–¥–∞—é—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
- üîÑ –ë—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Ü–∏–∫–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## –¢–∏–ø—ã –∑–∞–¥–∞—á –≤ –æ—á–µ—Ä–µ–¥–∏:

1. **time_entry_start** (Critical) ‚Äî –∑–∞–ø—É—Å–∫ —Ç—Ä–µ–∫–∏–Ω–≥–∞
2. **time_entry_stop** (Critical) ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç—Ä–µ–∫–∏–Ω–≥–∞
3. **time_entry_pause** (High) ‚Äî –ø–∞—É–∑–∞ —Ç—Ä–µ–∫–∏–Ω–≥–∞
4. **time_entry_resume** (High) ‚Äî –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–∏–Ω–≥–∞
5. **screenshot** (Normal) ‚Äî —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
6. **url_activity** (Normal) ‚Äî –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ URL

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:

### 1. –ß–µ—Ä–µ–∑ UI (SyncIndicator)
- –°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ —Ñ—É—Ç–µ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Spinner + —á–∏—Å–ª–æ** = –∏–¥–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–∑–∞–¥–∞—á –≤ –æ—á–µ—Ä–µ–¥–∏)
- **"–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ"** = –≤—Å–µ –∑–∞–¥–∞—á–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- **–ö—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞** = –µ—Å—Ç—å –æ—à–∏–±–∫–∏ (–∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π)

### 2. –ß–µ—Ä–µ–∑ UI (Settings ‚Üí –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
- –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ —Å–µ–∫—Ü–∏–∏ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"
- –£–≤–∏–¥–∏—Ç–µ:
  - **–í –æ—á–µ—Ä–µ–¥–∏:** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ pending –∑–∞–¥–∞—á
  - **–û—à–∏–±–∫–∏:** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ failed –∑–∞–¥–∞—á
  - **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
  - **–ü–æ —Ç–∏–ø–∞–º –∑–∞–¥–∞—á:** –¥–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ pending –∑–∞–¥–∞—á
- –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (‚Üª) –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### 3. –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª (Rust –ª–æ–≥–∏)
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ª–æ–≥–∞–º–∏
pnpm tauri dev

# –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
# [SYNC] Starting sync: 221 pending tasks (by type: screenshot: 200, url_activity: 15, time_entry_start: 3, time_entry_pause: 3), batch size: 50
# [SYNC] Processing task 123: screenshot (retry 0)
# [SYNC] Task 123 synced successfully
# [SYNC] Sync completed: Synced: 50 tasks (screenshot: 45, url_activity: 5), Failed: 0 tasks
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –≤ —Ñ–æ–Ω–µ
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ —Å —É—á–µ—Ç–æ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç exponential backoff –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

2. **–†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
   - –ú–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å —á–µ—Ä–µ–∑ `sync_queue_now()` –∫–æ–º–∞–Ω–¥—É
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å—Ä–∞–∑—É

3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**
   - **Critical** (start/stop) ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏
   - **High** (pause/resume) ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤—Ç–æ—Ä—ã–º–∏
   - **Normal** (screenshots/activities) ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —á–∏—Å–ª–æ –Ω–µ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è?

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∂–µ—Ç "–û—Ñ–ª–∞–π–Ω", –µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - –ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏:**
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫—Ä–∞—Å–Ω—É—é —Ç–æ—á–∫—É –≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–µ
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ failed –∑–∞–¥–∞—á

3. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –ò–ª–∏ –≤—ã–∑–æ–≤–∏—Ç–µ `sync_queue_now()` —á–µ—Ä–µ–∑ DevTools

## –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á:

- **pending** ‚Äî –æ–∂–∏–¥–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **sent** ‚Äî —É—Å–ø–µ—à–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
- **failed** ‚Äî –æ—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∞)
